## 勋章馆总结

#### 1. 功能遗漏

* 小红点功能被忽视，没有详细设计，虽然看起来很小，但是实现起来忽视了非常多的东西
* 布局存在问题、并且有些熟悉，比如tint、fitsystemwindow 在安卓各个版本中存在差异
* 测试不完备，没有编写自己的测试用例，并没有缓存中间结果

**思考**：

1. 之后调试网络接口，要把数据存在一个文件里面，这样方便自己之后模拟线上数据，可以把抓包结果保存、同时把postman数据保存。在android assert目录下建立一个用于目录，这个目录不提交代码，把抓包的网络结构，写到一个json文件中，放在这个测试目录，这样自己就方便编写单元测试了。这里要学习一下自动化测试
2. 需求和交互、其中网络异常、loading页、闪烁等问题，需要提前和产品沟通，之后凡是有网络接口调用的地方、网络接口请求的时机、界面刷新的时机、网络接口错误的处理 、接口异步调用是否有阻塞UI、接口很多的时候考虑接口聚合、形成思考模式
3. 很有设置项相关的prefs，要记得是否和mallid、userid绑定
4. 在使用安卓一些特性的时候，一定要他清楚它从api多少开始支持的
5. 一些入口比较靠前的需求，一定要和pm讨论好请求时机的问题

#### 2. 兜底方案

* 服务端一些错误状态、一些错误case、包括配置中心更新数据的不及时，这些应该在使用之前和组内的同学讨论，有那些issue(坑)，在开发功能前提前抛出问题
* 网络接口中的参数，尤其是一些比较困惑的参数、异常状态，要提前抛出来，在群聊里面

**思考**:

1. 在使用一个app的模块、功能的时候，要提前和组内的了解它的坑
2. 要提前熟悉配置中心、红点的实现策略、mmkv
3. 服务端提供接口，马上用postman进行测试、并保留一些中间结果、把困惑的参数及时反馈出来，并有wiki记录，后续设计兜底方案
4. 开发功能的部分，除了界面刷新，要有详细设计，再加上流程图绘制

#### 3. 沟通问题

* 和有德沟通的时候，没有注意自己的语气，无心中让对方很不容易配合，造成小红点测试起来很麻烦，虽然对方能力很差、沟通也很差，但之后要长时间相处，坚决不能出现冲突
* 服务端接口有明显的设计不合理，实在不行就我们的老大和他们沟通
* 注意不要释放情绪，可以在周末去释放，有些人的相处就是会产生隔阂、误解，或者有些人就是难以相处，遇到工作上的不顺利，第一时间是想着怎么去解决问题、解决沟通上的问题
* 本次勋章馆开发中，遇到设计 改交互、产品改需求、服务端该接口，这些东西最好在开发前就完全确定好，造成了我之前开发很多交互，时间白白浪费，在接口测试、交互讨论上、需求讨论上的时间，只要拉倒最前面，自己交付的产品质量才能更好
* 设计有些交互设计得很困惑、复杂的时候，比如这次的翻页等效果，要叫上ios和产品协商去掉
* 要把产品上线时间首先 同步给服务端的接口人，避免他们请假，到时候不在

#### 4. 时间浪费

* git命令不熟悉，造成合代码过程中产生了非常多的问题，造成了大约一整天的时间浪费
* 程序代码结构的入口没有针对方便测试而设计，在最开始开发的阶段，就没有考虑，这种跨多端业务需求，测试会非常麻烦，自己模拟线上是不可能的，需要缓存一些模拟数据，保证交付的质量，避免后续一些突发事件的发生。这里老大重点提醒，即使mock数据，也要和服务端约定好，很多都是自己mock和服务端不一致造成严重问题。
* 抓包工具、网络接口的返回结果，要把中间结果缓存下来，比如postman上面保存下来，这样才能和ios共享，也方便后续追踪

#### 5. 开会
* 开会的时候，要拍照保存下来，白板上需要绘制很多图，使用滴答清单同步保存
* 看到好的内容paper，也使用滴答清单保存起来，比如微信上面，用于以后看、分析

#### 6. 可扩展性

* 不能相信产品所说的，勋章就是会修改、勋章就是会新增等等，代码设计阶段就需要考虑扩展性、版本控制
* 服务端目前只负责写逻辑



​	